'use client';

import { Title } from '@/shared/ui/Title';

const termsRaw = `
## 제 1장 (총칙)

### - 제 1조 (목적)

본 약관은 UFO-Fi (이하 ‘회사’)가 제공하는 데이터 거래 플랫폼 (이하 ‘서비스’)의 이용과 관련하여 회사와 회원 간의 권리, 의무 및 책임사항, 기타 필요한 사항을 규정함을 목적으로 합니다.

### - 제 2조 (정의)

본 약관에서 사용하는 용어의 정의는 다음과 같습니다.

1. 서비스 : 회사가 제공하는 데이터 거래 중개, 충전/환급, ZET 지갑 등 관련 서비스를 의미합니다.
2. 회원 : 본 약관에 동의하고 회사와 서비스 이용계약을 체결한 자를 말합니다.
3. 판매자 : 서비스에 판매할 물품을 등록하여 판매하거나 판매할 의사로 서비스를 이용하는 자를 말합니다.
4. 구매자 : 판매자가 판매하는 물품을 구매하거나 구매할 의사로 서비스를 이용하는 자를 말합니다.
5. ZET : UFO-Fi에서 사용되는 포인트성 재화로, 데이터 구매 및 환급에 사용할 수 있습니다.
6. 통신 3사 : SK텔레콤, KT, LG U+를 의미합니다.
7. 거래 : 데이터를 사고 파는 행위로, 통신사 연동을 통해 이루어집니다. 

### - 제 3조 (약관의 효력 및 변경)

1. 회사는 본 약관의 내용을 회원이 쉽게 확인할 수 있도록 웹사이트 및 모바일 앱 화면에 게시합니다.
2. 회사는 전자상거래 등에서의 소비자보호에 관한 법률(이하 “전자상거래법”), 약관의 규제에 관한 법률(이하 “약관법”), 전자문서 및 전자거래기본법, 정보통신망 이용촉진 및 정보보호 등에 관한 법률(이하 “정보통신망법”), 소비자기본법 등 관련 법령을 위반하지 않는 범위 내에서 본 약관을 개정할 수 있습니다.
3. 회사는 약관을 개정할 경우에 적용 일자, 개정 내용 및 개정 사유를 명시하여 그 적용일자로부터 최소한 7일 이전부터 서비스 내 전자게시판에 공지합니다. 다만, 개정 약관의 내용이 회원에게 불리한 경우에는 개정 약관 적용 일자 30일 전부터 공지합니다.
4. 본 약관에 명시되지 않은 사항은 전자상거래법, 약관법, 전자상거래 등에서의 소비자보호지침 등 관련 법령 또는 상관례에 따릅니다. 

## 제 2장 (서비스)

### - 제 4조 (회원 자격 및 가입)

1. 회원이 되고자 하는 자 (이하 ‘가입신청자’)는 회사가 제공하는 가입 양식에 따라 필요한 정보를 기이하고 본인확인 등 관련 절차를 완료한 후 본 약관에 동의한다는 의사표시를 함으로써 회원 가입을 신청합니다.
2. 회사는 가입신청자가 제 1항에 따라 회원 가입을 신청한 경우 특별한 사유가 없는 한 서비스의 이용을 승낙합니다. 다만, 가입신청자에게 다음 각 호의 사유가 있는 경우 회원 가입이 거절될 수 있습니다.
    
    가.   만 14세 미만인 경우
    
    나.   타인의 명의를 도용한 경우
    
    다.   동일인이 다수의 계정 생성을 시도한 경우
    
    라.   사기 피해 정보 제공 사이트, 정부기관 사이트 등에서 거래 사기 이력이 확인되는 경우
    
    마.   기존에 회원 탈퇴 이력 또는 서비스 제한 이력이 있는 경우로서 서비스 이용에 부적합하다고 회사가 판단하는 경우
    
    바.   기타 회사가 회원 가입을 불허할 필요가 있다고 판단하는 경우
    

### - 제 5조 (회원 탈퇴 및 이용계약의 해지 등)

1. 회원은 언제든지 회사에 회원 탈퇴를 요청하여 서비스 이용계약을 해지할 수 있습니다.
2. 회사는 제 1항의 회원 탈퇴 의사를 확인하면 즉시 해당 회원을 탈퇴 처리합니다. 다만, 회원에게 다음 각 호의 사유가 있는 경우 탈퇴 처리를 보류할 수 있습니다.
    
    가.   탈퇴 요청을 한 자가 회원 본인인지 확인할 수 없는 경우
    
    나.   탈퇴 요청을 한 회원이 관련된 사기 거래, 지식재산권 침해 등 분쟁이 잔존하는 경우
    
3. 회원은 탈퇴 전에 진행 중인 거래를 모두 완료 및 철회,  취소 해야하며, 탈퇴와 관련하여 진행중인 거래의 완료, 철회 또는 취소의 이행이나 불이행으로 인하여 발생하는 불이익은 모두 해당 회원이 부담합니다.
4. 회원은 탈퇴 전에 보유한 재화를 모두 환급해야하며, 회원이 탈퇴 전 환급 신청을 하지 않은 경우, 해당 ZET는 탈퇴 즉시 자동 소멸되며, 복구 또는 환급이 불가합니다. 탈퇴 전 재화 환급 여부 확인 및 환급 신청은 전적으로 회원의 책임이며, 회사는 탈퇴 후 소멸된 재화에 대해 책임을 지지 않습니다.

### 제 6조 (서비스의 내용)

1. 회사는 회원에게 다음 각 호의 서비스를 제공합니다.
    
    가.  데이터 거래 시스템
    
    회원 간의 이동통신 데이터(예 : LTE/5G 데이터)를 구매하거나 판매할 수 있는 중개 기능을 제공합니다.
    
    거래는 통신 3사(SK텔레콤, KT, LG U+)와의 연동을 통해 실제 데이터 전송이 이뤄집니다.
    
    나.  ZET 재화 기반 충전 및 사용 기능
    
    회원은 회사가 제공하는 자체 결제수단을 통해  ZET(포인트성 재화)를 충전하고, 이를 데이터 구매 시 사용할 수 있습니다.
    
    ZET는 1,000원 단위로 충전되며, 가격 책정 및 사용 기준은 회사가 별도로 정하는 정책에 따릅니다.
    
    다.  ZET 환급 기능
    
    데이터 판매를 통해 획득한 ZET는 일정 요건을 충족할 경우 회원의 명의 계좌로 현금 환급 신청이 가능합니다.
    
    환급 조건, 방법, 수수료 등은 서비스 화면 및 정책에서 별도로 안내합니다.
    
    라.  거래 이력 조회 및 자산 관리
    
    회원은 자신의 거래 내역, 잔여 ZET, 환급 요청 기록 등을 서비스 내에서 열람하고 관리할 수 있습니다.
    
    마.  통신사 연동 및 인증 가능
    
    데이터 송수신 거래의 안정성과 위·변조 방지를 위해, 서비스는 통신 3사 API 또는 인증 시스템과 연동됩니다.
    
    회원은 거래를 수행하기 위해 통신사(이름, 생년월일, 전화번호 등)를 입력하고 인증 절차를 거쳐야 합니다.
    
    바.  기타 회사가 정하는 부가 서비스
    
    회사는 거래 안정성 제고, 고객 편의성 향상, 마케팅 목적 등을 위해 기타 다양한 기능을 추가로 제공할 수 있습니다.
    
2. 서비스 제공 시간은 연중무휴 1일 24시간을 원칙으로 하나, 시스템 점검, 서버 보수, 통신 장애 등 불가피한 사유로 중단될 수 있으며, 이 경우 사전 또는 사후 공지합니다.

### 제 7 조 (서비스의 이용 및 제공)

1. 회원은 서비스 이용 시 관련 법령 및 본 약관, 서비스 운영정책, 이용절차 등 회사의 운영방침을 준수하고 공지사항 등 회사가 안내하는 사항을 숙지하여야 합니다.
2. 회원은 계정명, 비밀번호, 휴대전화 번호 등 본인의 계정 정보를 본인 책임하에 관리해야 합니다.  회원은 본인의 고의 또는 과실로 인해 제 3자가 본인 계정을 부정 사용하는 경우 회사 또는 제 3자에게 발생하는 손해에 대한 일체의 책임을 부담합니다.
3. 회사가 요청하지 않은 본인 또는 타인의 개인정보를 제 3자에게 공유, 유출 또는 제공하는 행위는 엄격히 금지됩니다. 이를 위반한 회원은 그로 인하여 발생하는 문제에 대해 모든 책임을 부담하며, 회사는 일체의 책임을 부담하지 않습니다.

### 제 8조 (서비스의 중단)

1. 본 서비스는 상업적 서비스를 목적으로 하지 않고, 연구 · 개발 · 시범 운영 중인 프로젝트 성격의 웹 애플리케이션입니다. 따라서 회사는 서비스의 전부 또는 일부를 사전 고지 없이 중단하거나 변경할 수 있으며, 이에 대해 별도의 책임을 부담하지 않습니다.
2. 회사는 다음 각 호에 해당하는 경우, 서비스 제공을 일시적으로 중단할 수 있습니다.
    
    가.  서버 또는 시스템 점검, 유지보수가 필요한 경우
    
    나.  통신 장비의 장애 또는 통신망의 불안정 등으로 정상적인 서비스 제공이 어려운 경우
    
    다.  천재지변, 정전, 해킹, 시스템 오류 등 불가항력적 사유가 발생한 경우
    
    라.  프로젝트 종료, 팀 내 운영 정책 변경 등 내부 사정에 따라 서비스 유지가 불가능한 경우
    
3. 제 1항, 제 2항에 따라 서비스가 중단되는 경우, 회사는 가능한 범위 내에서 웹사이트 또는 알림을 통해 회원에게 안내합니다. 다만, 긴급하거나 예측 불가능한 사정이 있는 경우 사후 공지로 갈음할 수 있습니다.
4. 회원은 서비스가 프로젝트 운영의 일환으로 제공되는 실험적 시스템임을 인지하고, 서비스 중단 또는 기능 변경 등에 따른 손해 배상이나 책임을 회사에 요구할 수 없습니다.

### - 제 9조 (서비스 이용의 제한)

1. 본 서비스는 상업적 목적이 아닌, 연구 · 개발 · 기획 프로젝트의 일환으로 제공되는 시범 서비스입니다.
    
    따라서 회사는 서비스 안정성 확보, 테스트 운영, 시스템 보완 또는 프로젝트 기획 변경 등의 사유로, 회원의 서비스 이용을 일시적 또는 지속적으로 제한하거나 중단할 수 있습니다.
    
2. 회사는 다음 각 호에 해당하는 경우, 사전 통보 없이 회원의 서비스를 제한할 수 있습니다.
    
    가.  시스템의 안정성을 저해하거나, 비정상적인 방식(자동화 도구 등)으로 서비스를 사용하는 경우
    
    나.  테스트 목적에 부합하지 않는 방식으로 서비스를 악용하거나, 명백한 부정 거래가 감지된 경우
    
    다.  타인의 정보를 무단 사용하거나, 본인 인증 없이 타인의 명의로 서비스를 이용한 경우
    
    라.  기타 프로젝트 운영 목적과 맞지 않거나, 회사의 정책 및 기획 변경에 따라 필요하다고 판단되는 경우
    
3. 회원은 서비스 이용의 제한 조치에 대해 회사에 이의를 제기할 수 있으나, 본 서비스의 성격상 이용 제한은 회사의 재량에 따라 결정될 수 있으며, 이에 대해 법적 책임을 요구할 수 없습니다.

### - 제 10조 (개인정보보호)

1. 회사는 원활한 서비스 제공을 위하여 회사의 정책에 따라 회원의 개인정보를 처리하며, 이와 관련하여 개인정보보호법 등 관련 법령을 준수합니다.
2. 회사는 회원의 개인정보를 수집 · 이용하거나 제 3자에게 제공할 경우 관련 법령에 정한 절차에 따르며 법정 예외 사유에 해당하지 않는 한 회원의 동의를 구합니다.
3. 회사는 회원의 개인정보를 보호하기 위하여 개인정보처리방침 등 개인정보 보호정책을 수립하여 운영하고 개인정보보호책임자를 지정하여 게시합니다.
4. 회사는 다음 각 호의 예외 사유에 해당하는 경우를 제외하고 회원의 개인정보를 서비스 제공 이외의 목적으로 사용하거나 회원의 동의 없이 제 3자에게 제공하지 않습니다.
    
    가.  관련 법령에 따라 이용 또는 제공이 허용되거나 의무로 규정된 경우
    
    나.  판매자 또는 통신사와의 연동, 환급 처리를 위해 필요한 정보를 제공하는 경우
    
    다.  회사의 약관 및 운영정책에 따라 회원의 사전 동의를 받은 경우
    
5. 그 외 개인정보 처리에 관한 구체적 사항은 개인정보처리방침에 따릅니다.

## 제 3장 거래중개서비스

### - 제 11조 (거래중개서비스의 제공)

1. 회사는 회사가 제공하는 웹사이트 및 애플리케이션을 통하여 판매자와 구매자 간에 데이터 거래가 이루어질 수 있도록 온라인 거래 장소를 제공하는 거래중개서비스를 제공합니다.
2. 회원은 회사가 제공하는 플랫폼을 이용하여 데이터를 구매하거나 판매할 수 있으며, 회사는 거래의 체결 및 실행을 지원하는 기술적 환경을 제공합니다.
3. 거래중개서비스를 이용하는 회원에게 수수료가 부과될 수 있습니다. 회사는 회원이 부담하는 수수료에 대하여 서비스 내에서 회원이 알기 쉽게 고지합니다.
4. 회원 간 거래에서 회사는 거래 당사자가 아니며, 해당 거래에서 발생하는 분쟁, 손해배상 등에 대해서는 달리 법령에 정함이 없는 한 해당 거래의 귀책사유가 있는 회원이 책임을 부담합니다.

### 제 12조 (거래의 성립)

1. 회원은 회사가 정한 절차에 따라 데이터를 판매 또는 구매할 수 있으며, 거래는 아래의 조건이 모두 충족된 시점에 성립됩니다.
    
    가.  판매자가 회사가 지정한 방식에 따라 데이터를 시스템에 송신하거나 거래 요청을 완료한 경우
    
    나.  구매자가 회사에 지정된 ZET 금액을 충전하고, 구매 의사를 명확히 표시한 경우
    
2. 회사는 거래의 신뢰성과 안전성을 위해, 판매자와 구매자 양측의 거래 조건이 충족될 때까지 해당 재화(ZET)와 데이터를 일시적으로 보관하며, 양측 조건이 완료되면 다음과 같이 분배합니다.
    
    가.  구매자에게는 판매자가 송신한 데이터가 실제 통신사를 통해 전송되며,
    
    나.  판매자에게는 구매자가 지불한 ZET가 지급됩니다.
    
3. 회사는 에스크로 유사 구조를 통해 거래를 중립적으로 처리하되, 다음과 같은 경우 거래를 보류하거나 취소할 수 있습니다.
    
    가.  통신사 연동 시스템 오류 또는 인증 실패
    
    나.  재화(ZET) 입금 지연 또는 데이터 전송 미완료
    
    다.  부정확한 정보 입력 또는 이상 거래가 감지된 경우
    
4. 거래가 완료된 이후에는 원칙적으로 취소가 불가능하며, 단순 변심이나 개인적 사유로 인한 환불 요청은 인정되지 않습니다.
    
    단, 통신사 장애, 시스템 결함 등 회사의 귀책 사유가 있는 경우 예외적으로 취소 및 환불이 가능합니다.
    
5. 회사는 거래 중개자로서 ****회원 간의 거래 조건 및 결과에 대해 직접적인 책임을 지지 않으며**,** 시스템 오류 또는 외부 연동 실패가 없는 한, 거래 결과에 대한 민원이나 손해배상 청구에 응하지 않습니다.

### 제 13조 (ZET의 사용)

1. 회원은 회사 내 데이터 구매, 거래 수수료, 납부 등 회사가 지정한 서비스에서 ZET를 사용할 수 있습니다.
2. 사용 가능한 최소 금액, 사용 범위 등은 회사가 별도로 정하여 서비스 내에서 안내합니다.
3. ZET 사용 시 사용 내역은 회원의 거래 기록 페이지에서 확인할 수 있으며, 시스템 오류를 제외한 모든 ZET 사용은 취소 및 변경이 불가합니다.
4. 회사는 시스템 오류, 이중 결제, 비정상적인 사용 내역 등 합리적인 사유가 있는 경우, ZET 사용 내역을 조정할 수 있습니다.

### 제 14조 (ZET의 환급)

1. 회원은 데이터 판매 등을 통해 획득한 ZET에 대해, 회사가 정한 조건을 충족하는 경우 현금 환급을 신청할 수 있습니다.
2. 환급은 회원 본인 명의의 은행 계좌를 통해 이루어지며, 다음 각 호의 조건을 충족해야 합니다.
    
    가.  회사가 지정한 최소 환급 가능 금액 (500 ZET)이상 보유
    
    나.  본인 인증 완료 및 계좌 정보 입력
    
    다.  운영 정책에 따라 별도의 환급 수수료가 부과될 수 있음.
    
3. 환급 요청은 회사의 내부 심사를 거쳐 최대 7영업일 이내 처리되며, 시스템 이상 또는 금융기관의 오류가 없는 한 해당 기한 내 완료됩니다.
4. 환급 신청 후 회원이 탈퇴한 경우, 환급 처리가 불가능하며 보유 중인 ZET는 자동 소멸됩니다. 이 경우 회사는 보상이나 복구의 책임을 지지 않습니다.

### 제 15조 (ZET의 유효기간)

1. 충전 또는 획득한 ZET의 유효기간은 최종 사용일로부터 5년이며, 유효기간이 경과한 ZET는 자동 소멸됩니다.
2. 회사는 소멸되는 재화에 대한 안내를 따로 통보하지 않습니다.
3. 탈퇴 또는 사망 등으로 계정이 비활성화된 경우 ZET는 환급되지 않으며 자동 소멸됩니다.

### 제 16조 (ZET 관련 책임 및 제한)

1. ZET는 UFO-Fi 서비스 내에서만 사용 가능하며, 법정 화폐 또는 유가 증권이 아니므로 외부에서 사용, 매매, 환전은 허용되지 않습니다.
2. 회원 부주의(예 : 계정 도용, 탈퇴 전 환급 미신청 등)로 인해 발생한 ZET 손실에 대해 회사는 책임지지 않습니다.
3. 회사는 사전 공지를 통해 ZET 정책(충전, 사용, 환급 조건 등)을 변경할 수 있으며, 변경 내용은 공지 시점 이후 적용됩니다.

### 제 17조 (구매 데이터의 재판매 제한)

1. UFO-Fi를 통해 구매한 데이터는 1회성 소비를 전제로 한 디지털 콘텐츠로 간주하며, 회원은 해당 데이터를 다른 회원 또는 외부에 재판매하거나 양도할 수 없습니다. 이는 각 통신사의 규율과 동일합니다.
2. 데이터 거래의 신뢰성과 투명성을 유지하기 위해, 회사는 다음과 같은 행위를 금지합니다.
    
    가.  동일 데이터를 반복적으로 구매하여 거래 이력을 위조하는 행위
    
    나.  비정상적인 방법으로 데이터 권리를 이전하려는 행위
    
3. 위 금지사항을 위반할 경우, 회사는 해당 거래를 사전 통보 없이 취소할 수 있으며, 회원의 서비스를 이용시

### 제 18조 (데이터베이스에 대한 보호)

UFO-Fi에서 제공되는 모든 콘텐츠, 사용자가 게시한 콘텐츠 및 기타 UFO-Fi의 서비스 내에서 생성된 모든 데이터에 대하여 아래 행위들은 금지됩니다.

1. UFO-Fi의 명시적인 사전 서면 동의 없이 자동화된 도구(예: 로봇, 스파이더, 스크립트, 스크래퍼, 크롤러 등) 내지 이에 준하는 일체의 방식을 활용하여 데이터 수집·복제·저장·배포·출판·분석·색인화·수정·파생 저작물 생성 등을 하는 행위
2. UFO-Fi의 명시적인 사전 서면 동의 없이 기계 학습, 인공지능 모델 학습·개발·개선 또는 기타 데이터 마이닝 목적으로 UFO-Fi의 서비스, 콘텐츠, 데이터 등을 이용하는 행위 (대형 언어 모델(LLMs), 생성형 AI 시스템, 기계 학습 도구의 학습 및 구축을 위한 데이터 수집, 활용, 인용, 출력, 파생 저작물 생성 행위 기타 이에 준하는 일체의 도구 내지 그에 기반한 행위를 포함함)

위와 같이 무단으로 데이터 수집 등 행위를 하거나, 인공지능 학습 등에 UFO-Fi의 콘텐츠를 사용하거나, robots.txt 파일을 우회하여 데이터를 수집하는 행위, 그리고 제3자가 위 행위들을 수행하도록 지원하거나 유도하는 행위 등은, 고의성의 여부를 불문하고 국제적인 인터넷 검색 서비스와 개인정보보호를 위한 규칙에 어긋나는 것이며, 경우에 따라 「저작권법」, 「정보통신망 이용촉진 및 정보보호에 관한 법률」 등 관련 법령에 위반될 수 있습니다. 이에 대해 UFO-Fi은 법적 절차를 포함하여 엄중한 책임을 물을 것입니다.

# **약관 수정**

UFO-Fi은 법률이나 UFO-Fi 서비스의 변경사항을 반영하기 위한 목적 등으로 본 약관이나 각 UFO-Fi 서비스 고객센터의 UFO-Fi 서비스 이용방법, 해당 안내 및 고지사항을 수정할 수 있습니다. 본 약관이 변경되는 경우 UFO-Fi은 변경 사항을 개별 UFO-Fi 서비스 초기화면에 게시하며, 변경된 약관은 게시한 날로부터 7일 후부터 효력이 발생합니다. 다만 사용자에게 불리한 변경에 해당하는 경우에는 변경된 약관은 게시한 날로부터 30일 후부터 효력이 발생하며, 전자적 방식 등을 통해 개별적으로 알리겠습니다.

UFO-Fi은 변경된 약관을 게시한 날로부터 효력이 발생되는 날까지 약관변경에 대한 사용자의 의견을 기다리겠습니다. 위 기간이 지나도록 사용자의 의견이 UFO-Fi에 접수되지 않으면, 사용자가 변경된 약관에 따라 서비스를 이용하는 데에 동의하는 것으로 보겠습니다. 사용자가 변경된 약관에 동의하지 않는 경우 변경된 약관의 적용을 받는 해당 서비스의 제공이 더 이상 불가능하게 됩니다.

# **사용자 의견**

UFO-Fi은 사용자의 의견을 소중하게 생각합니다. 사용자는 언제든지 서비스 내 UFO-Fi 운영자 문의란을 통해 의견을 개진할 수 있습니다. UFO-Fi은 푸시 알림, 채팅 방법, 휴대폰 번호 등으로 사용자에게 여러 가지 소식을 알려드리며, 사용자 전체에 대한 통지는 UFO-Fi 서비스 초기화면 또는 공지사항 란에 게시함으로써 효력이 발생합니다.

본 약관은 UFO-Fi와 사용자와의 관계에 적용되며, 제3자의 수익권을 발생시키지 않습니다.

사용자가 본 약관을 준수하지 않은 경우에, UFO-Fi이 즉시 조치를 취하지 않더라도 UFO-Fi이 가지고 있는 권리를 포기하는 것이 아니며, 본 약관 중 일부 조항의 집행이 불가능하게 되더라도 다른 조항에는 영향을 미치지 않습니다.

본 약관 또는 UFO-Fi 서비스와 관련하여서는 대한민국의 법률이 적용됩니다.

UFO-Fi
`;

function renderTermsWithHeadingsAndLists(text: string) {
  const lines = text.split('\n');
  const result: React.ReactNode[] = [];
  let olBuffer: string[] = [];
  let ulBuffer: string[] = [];
  let isOl = false;
  let isUl = false;

  const flushOl = (parentIdx: number) => {
    if (olBuffer.length > 0) {
      result.push(
        <ol className="list-decimal pl-6 mb-2" key={'ol-' + parentIdx + '-' + result.length}>
          {olBuffer.map((item, idx2) => (
            <li
              key={'olitem-' + parentIdx + '-' + idx2}
              className="break-words whitespace-pre-line"
            >
              {item.replace(/^\d+\.\s/, '')}
            </li>
          ))}
        </ol>,
      );
      olBuffer = [];
    }
  };
  const flushUl = (parentIdx: number) => {
    if (ulBuffer.length > 0) {
      result.push(
        <ul className="list-[lower-korean] pl-8 mb-2" key={'ul-' + parentIdx + '-' + result.length}>
          {ulBuffer.map((item, idx2) => (
            <li
              key={'ulitem-' + parentIdx + '-' + idx2}
              className="break-words whitespace-pre-line"
            >
              {item.replace(/^[가-힣]\.\s/, '')}
            </li>
          ))}
        </ul>,
      );
      ulBuffer = [];
    }
  };

  for (let i = 0; i < lines.length; i++) {
    const line = lines[i];
    if (line.startsWith('# ')) {
      flushOl(i);
      flushUl(i);
      result.push(
        <h1 key={i} className="text-lg font-bold text-white mt-6 mb-2">
          {line.replace('# ', '')}
        </h1>,
      );
      continue;
    }
    if (line.startsWith('## ')) {
      flushOl(i);
      flushUl(i);
      result.push(
        <h2 key={i} className="text-lg font-bold text-white mt-6 mb-2">
          {line.replace('## ', '')}
        </h2>,
      );
      continue;
    }
    if (line.startsWith('### ')) {
      flushOl(i);
      flushUl(i);
      result.push(
        <h3 key={i} className="text-base font-bold text-white mt-4 mb-1">
          {line.replace('### ', '')}
        </h3>,
      );
      continue;
    }
    if (/^\d+\.\s/.test(line)) {
      flushUl(i);
      isOl = true;
      isUl = false;
      olBuffer.push(line);
      continue;
    }
    if (/^[가-힣]\.\s/.test(line)) {
      flushOl(i);
      isUl = true;
      isOl = false;
      ulBuffer.push(line);
      continue;
    }
    // 들여쓰기된 줄(리스트 본문) 처리
    if (/^\s{2,}.+/.test(line) && (isOl || isUl)) {
      if (isOl && olBuffer.length > 0) {
        olBuffer[olBuffer.length - 1] += '\n' + line;
      } else if (isUl && ulBuffer.length > 0) {
        ulBuffer[ulBuffer.length - 1] += '\n' + line;
      }
      continue;
    }
    // 일반 줄
    flushOl(i);
    flushUl(i);
    result.push(
      <div key={i} className="whitespace-pre-wrap">
        {line === '' ? <br /> : line}
      </div>,
    );
    isOl = false;
    isUl = false;
  }
  flushOl(lines.length);
  flushUl(lines.length);
  return result;
}

export default function TermsPage() {
  return (
    <div>
      <Title
        title="이용 약관"
        iconVariant="back"
        onClick={() => window.history.back()}
        className="mb-6"
      />
      <div className="text-white overflow-x-auto text-sm max-h-[80vh] p-2 bg-black/30 rounded-lg flex flex-col gap-2 leading-relaxed">
        {renderTermsWithHeadingsAndLists(termsRaw)}
      </div>
    </div>
  );
}
